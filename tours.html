<!DOCTYPE html>
<html lang="zh-Hant">
<head>
<meta charset="UTF-8">
<title>所有行程</title>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
<style>.card img{height:200px;object-fit:cover}</style>
</head>
<body>

<nav class="navbar navbar-dark bg-dark fixed-top">
<div class="container">
<a class="navbar-brand fw-bold" href="index.html">Travel4U</a>
<a class="nav-link text-white" href="index.html">首頁</a>
</div>
</nav>

<div class="container mt-5 pt-4">
<div class="btn-group my-4">
<button class="btn btn-outline-dark filter-btn active" data-filter="all">全部</button>
<button class="btn btn-outline-primary filter-btn" data-filter="jp">日本</button>
<button class="btn btn-outline-success filter-btn" data-filter="kr">韓國</button>
<button class="btn btn-outline-warning filter-btn" data-filter="tw">台灣</button>
</div>

<div class="row g-4">

<div class="col-md-4 tour-card" data-country="jp">
<div class="card">
<img src="images/tokyo.jpg">
<div class="card-body">
<h5>東京富士山</h5>
<div class="d-flex gap-2">
<a href="tour-detail.html?place=tokyo" class="btn btn-primary w-50">詳情</a>
<button class="btn btn-outline-danger fav-btn w-50" data-id="tokyo">♡ 收藏</button>
</div>
</div>
</div>
</div>

<div class="col-md-4 tour-card" data-country="kr">
<div class="card">
<img src="images/jeju.jpg">
<div class="card-body">
<h5>濟州島</h5>
<div class="d-flex gap-2">
<a href="tour-detail.html?place=jeju" class="btn btn-success w-50">詳情</a>
<button class="btn btn-outline-danger fav-btn w-50" data-id="jeju">♡ 收藏</button>
</div>
</div>
</div>
</div>

<div class="col-md-4 tour-card" data-country="tw">
<div class="card">
<img src="images/hualien.jpg">
<div class="card-body">
<h5>花蓮縱谷</h5>
<div class="d-flex gap-2">
<a href="tour-detail.html?place=hualien" class="btn btn-warning w-50">詳情</a>
<button class="btn btn-outline-danger fav-btn w-50" data-id="hualien">♡ 收藏</button>
</div>
</div>
</div>
</div>

</div>
</div>

<script>
const btns=document.querySelectorAll(".filter-btn");
const cards=document.querySelectorAll(".tour-card");
btns.forEach(b=>b.onclick=()=>{
btns.forEach(x=>x.classList.remove("active"));
b.classList.add("active");
cards.forEach(c=>{
c.style.display=(b.dataset.filter==="all"||c.dataset.country===b.dataset.filter)?"block":"none";
});
});
let favs=JSON.parse(localStorage.getItem("favs"))||[];
document.querySelectorAll(".fav-btn").forEach(b=>{
if(favs.includes(b.dataset.id)){b.classList.add("btn-danger");b.textContent="♥ 已收藏";}
b.onclick=()=>{
if(favs.includes(b.dataset.id)){favs=favs.filter(f=>f!==b.dataset.id);b.classList.remove("btn-danger");b.textContent="♡ 收藏";}
else{favs.push(b.dataset.id);b.classList.add("btn-danger");b.textContent="♥ 已收藏";}
localStorage.setItem("favs",JSON.stringify(favs));
};
});
</script>
</body>
</html>
